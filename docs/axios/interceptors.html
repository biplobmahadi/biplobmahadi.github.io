<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><meta name="description" content="My Personal App to Share Knowledge"/><link rel="icon" href="/main.ico"/><title>Interceptors - Axios for React</title><meta name="next-head-count" content="5"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-ac8e739d7fc14741.js" defer=""></script><script src="/_next/static/chunks/framework-7dc8a65f4a0cda33.js" defer=""></script><script src="/_next/static/chunks/main-fc7d2f0e2098927e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-3b1d1cc6e0a8834a.js" defer=""></script><script src="/_next/static/chunks/298-c507df6f6736e623.js" defer=""></script><script src="/_next/static/chunks/pages/docs/axios/interceptors-f11c4e27a03a3d68.js" defer=""></script><script src="/_next/static/elnmWh8fj0RsopD2HdCAS/_buildManifest.js" defer=""></script><script src="/_next/static/elnmWh8fj0RsopD2HdCAS/_ssgManifest.js" defer=""></script><script src="/_next/static/elnmWh8fj0RsopD2HdCAS/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><style>
      #nprogress {
        pointer-events: none;
      }
      #nprogress .bar {
        background: #29D;
        position: fixed;
        z-index: 9999;
        top: 0;
        left: 0;
        width: 100%;
        height: 3px;
      }
      #nprogress .peg {
        display: block;
        position: absolute;
        right: 0px;
        width: 100px;
        height: 100%;
        box-shadow: 0 0 10px #29D, 0 0 5px #29D;
        opacity: 1;
        -webkit-transform: rotate(3deg) translate(0px, -4px);
        -ms-transform: rotate(3deg) translate(0px, -4px);
        transform: rotate(3deg) translate(0px, -4px);
      }
      #nprogress .spinner {
        display: block;
        position: fixed;
        z-index: 1031;
        top: 15px;
        right: 15px;
      }
      #nprogress .spinner-icon {
        width: 18px;
        height: 18px;
        box-sizing: border-box;
        border: solid 2px transparent;
        border-top-color: #29D;
        border-left-color: #29D;
        border-radius: 50%;
        -webkit-animation: nprogresss-spinner 400ms linear infinite;
        animation: nprogress-spinner 400ms linear infinite;
      }
      .nprogress-custom-parent {
        overflow: hidden;
        position: relative;
      }
      .nprogress-custom-parent #nprogress .spinner,
      .nprogress-custom-parent #nprogress .bar {
        position: absolute;
      }
      @-webkit-keyframes nprogress-spinner {
        0% {
          -webkit-transform: rotate(0deg);
        }
        100% {
          -webkit-transform: rotate(360deg);
        }
      }
      @keyframes nprogress-spinner {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
    </style><style data-emotion="css-global zl4edr">html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%;}body{margin:0;}article,aside,footer,header,nav,section,figcaption,figure,main{display:block;}h1{font-size:2em;}hr{box-sizing:content-box;height:0;overflow:visible;}pre{font-family:monospace,monospace;font-size:1em;}a{background:transparent;text-decoration-skip:objects;}a:active,a:hover{outline-width:0;}abbr[title]{border-bottom:none;-webkit-text-decoration:underline;text-decoration:underline;}b,strong{font-weight:bolder;}code,kbp,samp{font-family:monospace,monospace;font-size:1em;}dfn{font-style:italic;}mark{background-color:#ff0;color:#000;}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sup{top:-0.5em;}sub{bottom:-0.25em;}audio,video{display:inline-block;}audio:not([controls]){display:none;height:0;}img{border-style:none;vertical-align:middle;}svg:not(:root){overflow:hidden;}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button,[type=reset],[type=submit]{-webkit-appearance:button;}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0;}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted ButtonText;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{display:inline-block;vertical-align:baseline;}textarea{overflow:auto;}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0;}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto;}[type=search]{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;}::-webkit-file-upload-button{-webkit-appearance:button;-moz-appearance:button;-ms-appearance:button;appearance:button;font:inherit;}details,menu{display:block;}summary{display:-webkit-box;display:-webkit-list-item;display:-ms-list-itembox;display:list-item;}canvas{display:inline-block;}template{display:none;}[hidden]{display:none;}</style><style data-emotion="css-global ui06b9">*,*::before,*::after{box-sizing:border-box;}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;background-color:#fff;color:#000;line-height:1.55;font-size:16px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}</style><div class="mantine-AppShell-root mantine-osix87"><nav class="mantine-Header-root mantine-5btzdf"><div class="mantine-Container-root mantine-c5ne5p"><div class="mantine-Group-root mantine-19jxmdp"><button class="mantine-UnstyledButton-root mantine-Burger-root mantine-Group-child mantine-1bg0q87" type="button"><div class="mantine-1asblv6 mantine-Burger-burger"></div></button><div class="mantine-Text-root mantine-Group-child mantine-1jbz0w2">BIPLOB</div><div class="mantine-Group-root mantine-Group-child mantine-2kng8h"><button class="mantine-Button-default mantine-Button-root mantine-Group-child mantine-5ak2kp" type="button"><div class="mantine-3xbgk5 mantine-Button-inner"><span class="mantine-qo1k2 mantine-Button-label">Home</span></div></button><button class="mantine-Button-default mantine-Button-root mantine-Group-child mantine-5ak2kp" type="button"><div class="mantine-3xbgk5 mantine-Button-inner"><span class="mantine-qo1k2 mantine-Button-label">Docs</span></div></button><button class="mantine-Button-default mantine-Button-root mantine-Group-child mantine-5ak2kp" type="button"><div class="mantine-3xbgk5 mantine-Button-inner"><span class="mantine-qo1k2 mantine-Button-label">Blogs</span></div></button><button class="mantine-Button-default mantine-Button-root mantine-Group-child mantine-5ak2kp" type="button"><div class="mantine-3xbgk5 mantine-Button-inner"><span class="mantine-qo1k2 mantine-Button-label">About</span></div></button></div><div class="mantine-Group-root mantine-Group-child mantine-14fq08j"><div class="mantine-Group-root mantine-1go39sk"><div class="mantine-Group-child mantine-10zveo0"><svg xmlns="http://www.w3.org/2000/svg" class="mantine-1poeaoy" width="18" height="18" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><circle cx="12" cy="12" r="4"></circle><path d="M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="mantine-19tw9gn" width="18" height="18" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path><path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path><path d="M19 11h2m-1 -1v2"></path></svg><div class="mantine-Switch-root mantine-16ttirm"><input id="" type="checkbox" class="mantine-9gvk1e mantine-Switch-input"/></div></div></div></div></div></div><style data-emotion="css-global yhwh6c">:root{--mantine-header-height:80px;}</style></nav><div class="mantine-ibbm6b mantine-AppShell-body"><nav class="mantine-Navbar-root mantine-Navbar-hidden  mantine-r882mv"><div class="mantine-ScrollArea-root mantine-xpd069" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px" dir="ltr"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="mantine-xlwgkm mantine-ScrollArea-viewport" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><div class="mantine-1krc9de"><button class="mantine-UnstyledButton-root mantine-12cffag" type="button"><div class="mantine-Group-root mantine-16z4d7m"><div class="mantine-Group-child mantine-1ms9cja"><div class="mantine-ThemeIcon-root mantine-hn4s1y"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-react-native" width="18" height="18" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M6.357 9c-2.637 .68 -4.357 1.845 -4.357 3.175c0 2.107 4.405 3.825 9.85 3.825c.74 0 1.26 -.039 1.95 -.097"></path><path d="M9.837 15.9c-.413 -.596 -.806 -1.133 -1.18 -1.8c-2.751 -4.9 -3.488 -9.77 -1.63 -10.873c1.15 -.697 3.047 .253 4.974 2.254"></path><path d="M6.429 15.387c-.702 2.688 -.56 4.716 .56 5.395c1.783 1.08 5.387 -1.958 8.043 -6.804c.36 -.67 .683 -1.329 .968 -1.978"></path><path d="M12 18.52c1.928 2 3.817 2.95 4.978 2.253c1.85 -1.102 1.121 -5.972 -1.633 -10.873c-.384 -.677 -.777 -1.204 -1.18 -1.8"></path><path d="M17.66 15c2.612 -.687 4.34 -1.85 4.34 -3.176c0 -2.11 -4.408 -3.824 -9.845 -3.824c-.747 0 -1.266 .029 -1.955 .087"></path><path d="M8 12c.285 -.66 .607 -1.308 .968 -1.978c2.647 -4.844 6.253 -7.89 8.046 -6.801c1.11 .679 1.262 2.706 .56 5.393"></path><path d="M12.26 12.015h-.01c-.01 .13 -.12 .24 -.26 .24a0.263 .263 0 0 1 -.25 -.26c0 -.14 .11 -.25 .24 -.25h-.01c.13 -.01 .25 .11 .25 .24"></path></svg></div><div class="mantine-1l4yfk">Axios for React</div></div><svg xmlns="http://www.w3.org/2000/svg" class="mantine-Group-child mantine-1f8f5fa" width="14" height="14" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" style="transform:none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="9 6 15 12 9 18"></polyline></svg></div></button><div class="mantine-1avyp1d" style="box-sizing:border-box;display:none;height:0px;overflow:hidden" aria-hidden="true"><div style="opacity:0;transition:opacity 200ms ease"><a class="mantine-Text-root mantine-86were" href="/docs/axios/introduction">Introduction</a><a class="mantine-Text-root mantine-86were" href="/docs/axios/instances">Instances</a><a class="mantine-Text-root mantine-86were" href="/docs/axios/promise-handling-and-aborting">Promise Handling &amp; Aborting</a><a class="mantine-Text-root mantine-86were" href="/docs/axios/custom-hooks">Custom Hooks</a><a class="mantine-Text-root mantine-1dxrq76" href="/docs/axios/interceptors">Interceptors</a><a class="mantine-Text-root mantine-86were" href="/docs/axios/demo-requests">Demo Requests</a></div></div><button class="mantine-UnstyledButton-root mantine-12cffag" type="button"><div class="mantine-Group-root mantine-16z4d7m"><div class="mantine-Group-child mantine-1ms9cja"><div class="mantine-ThemeIcon-root mantine-hn4s1y"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-react-native" width="18" height="18" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M6.357 9c-2.637 .68 -4.357 1.845 -4.357 3.175c0 2.107 4.405 3.825 9.85 3.825c.74 0 1.26 -.039 1.95 -.097"></path><path d="M9.837 15.9c-.413 -.596 -.806 -1.133 -1.18 -1.8c-2.751 -4.9 -3.488 -9.77 -1.63 -10.873c1.15 -.697 3.047 .253 4.974 2.254"></path><path d="M6.429 15.387c-.702 2.688 -.56 4.716 .56 5.395c1.783 1.08 5.387 -1.958 8.043 -6.804c.36 -.67 .683 -1.329 .968 -1.978"></path><path d="M12 18.52c1.928 2 3.817 2.95 4.978 2.253c1.85 -1.102 1.121 -5.972 -1.633 -10.873c-.384 -.677 -.777 -1.204 -1.18 -1.8"></path><path d="M17.66 15c2.612 -.687 4.34 -1.85 4.34 -3.176c0 -2.11 -4.408 -3.824 -9.845 -3.824c-.747 0 -1.266 .029 -1.955 .087"></path><path d="M8 12c.285 -.66 .607 -1.308 .968 -1.978c2.647 -4.844 6.253 -7.89 8.046 -6.801c1.11 .679 1.262 2.706 .56 5.393"></path><path d="M12.26 12.015h-.01c-.01 .13 -.12 .24 -.26 .24a0.263 .263 0 0 1 -.25 -.26c0 -.14 .11 -.25 .24 -.25h-.01c.13 -.01 .25 .11 .25 .24"></path></svg></div><div class="mantine-1l4yfk">React Query</div></div><svg xmlns="http://www.w3.org/2000/svg" class="mantine-Group-child mantine-1f8f5fa" width="14" height="14" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" style="transform:none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="9 6 15 12 9 18"></polyline></svg></div></button><div class="mantine-1avyp1d" style="box-sizing:border-box;display:none;height:0px;overflow:hidden" aria-hidden="true"><div style="opacity:0;transition:opacity 200ms ease"><a class="mantine-Text-root mantine-86were" href="/docs/react-query/introduction">Introduction</a><a class="mantine-Text-root mantine-86were" href="/docs/react-query/update-axios-setup">Update Axios Setup</a><a class="mantine-Text-root mantine-86were" href="/docs/react-query/query-hook">Query Hook</a><a class="mantine-Text-root mantine-86were" href="/docs/react-query/mutation-hooks">Mutation Hooks</a><a class="mantine-Text-root mantine-86were" href="/docs/react-query/demo-requests">Demo Requests</a></div></div><button class="mantine-UnstyledButton-root mantine-12cffag" type="button"><div class="mantine-Group-root mantine-16z4d7m"><div class="mantine-Group-child mantine-1ms9cja"><div class="mantine-ThemeIcon-root mantine-hn4s1y"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-react-native" width="18" height="18" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M6.357 9c-2.637 .68 -4.357 1.845 -4.357 3.175c0 2.107 4.405 3.825 9.85 3.825c.74 0 1.26 -.039 1.95 -.097"></path><path d="M9.837 15.9c-.413 -.596 -.806 -1.133 -1.18 -1.8c-2.751 -4.9 -3.488 -9.77 -1.63 -10.873c1.15 -.697 3.047 .253 4.974 2.254"></path><path d="M6.429 15.387c-.702 2.688 -.56 4.716 .56 5.395c1.783 1.08 5.387 -1.958 8.043 -6.804c.36 -.67 .683 -1.329 .968 -1.978"></path><path d="M12 18.52c1.928 2 3.817 2.95 4.978 2.253c1.85 -1.102 1.121 -5.972 -1.633 -10.873c-.384 -.677 -.777 -1.204 -1.18 -1.8"></path><path d="M17.66 15c2.612 -.687 4.34 -1.85 4.34 -3.176c0 -2.11 -4.408 -3.824 -9.845 -3.824c-.747 0 -1.266 .029 -1.955 .087"></path><path d="M8 12c.285 -.66 .607 -1.308 .968 -1.978c2.647 -4.844 6.253 -7.89 8.046 -6.801c1.11 .679 1.262 2.706 .56 5.393"></path><path d="M12.26 12.015h-.01c-.01 .13 -.12 .24 -.26 .24a0.263 .263 0 0 1 -.25 -.26c0 -.14 .11 -.25 .24 -.25h-.01c.13 -.01 .25 .11 .25 .24"></path></svg></div><div class="mantine-1l4yfk">React Router</div></div><svg xmlns="http://www.w3.org/2000/svg" class="mantine-Group-child mantine-1f8f5fa" width="14" height="14" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" style="transform:none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="9 6 15 12 9 18"></polyline></svg></div></button><div class="mantine-1avyp1d" style="box-sizing:border-box;display:none;height:0px;overflow:hidden" aria-hidden="true"><div style="opacity:0;transition:opacity 200ms ease"><a class="mantine-Text-root mantine-86were" href="/docs/react-router/role-base-routing">Role Based Routing</a></div></div><button class="mantine-UnstyledButton-root mantine-12cffag" type="button"><div class="mantine-Group-root mantine-16z4d7m"><div class="mantine-Group-child mantine-1ms9cja"><div class="mantine-ThemeIcon-root mantine-hn4s1y"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-react-native" width="18" height="18" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M6.357 9c-2.637 .68 -4.357 1.845 -4.357 3.175c0 2.107 4.405 3.825 9.85 3.825c.74 0 1.26 -.039 1.95 -.097"></path><path d="M9.837 15.9c-.413 -.596 -.806 -1.133 -1.18 -1.8c-2.751 -4.9 -3.488 -9.77 -1.63 -10.873c1.15 -.697 3.047 .253 4.974 2.254"></path><path d="M6.429 15.387c-.702 2.688 -.56 4.716 .56 5.395c1.783 1.08 5.387 -1.958 8.043 -6.804c.36 -.67 .683 -1.329 .968 -1.978"></path><path d="M12 18.52c1.928 2 3.817 2.95 4.978 2.253c1.85 -1.102 1.121 -5.972 -1.633 -10.873c-.384 -.677 -.777 -1.204 -1.18 -1.8"></path><path d="M17.66 15c2.612 -.687 4.34 -1.85 4.34 -3.176c0 -2.11 -4.408 -3.824 -9.845 -3.824c-.747 0 -1.266 .029 -1.955 .087"></path><path d="M8 12c.285 -.66 .607 -1.308 .968 -1.978c2.647 -4.844 6.253 -7.89 8.046 -6.801c1.11 .679 1.262 2.706 .56 5.393"></path><path d="M12.26 12.015h-.01c-.01 .13 -.12 .24 -.26 .24a0.263 .263 0 0 1 -.25 -.26c0 -.14 .11 -.25 .24 -.25h-.01c.13 -.01 .25 .11 .25 .24"></path></svg></div><div class="mantine-1l4yfk">React Context</div></div><svg xmlns="http://www.w3.org/2000/svg" class="mantine-Group-child mantine-1f8f5fa" width="14" height="14" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" style="transform:none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="9 6 15 12 9 18"></polyline></svg></div></button><div class="mantine-1avyp1d" style="box-sizing:border-box;display:none;height:0px;overflow:hidden" aria-hidden="true"><div style="opacity:0;transition:opacity 200ms ease"></div></div><button class="mantine-UnstyledButton-root mantine-12cffag" type="button"><div class="mantine-Group-root mantine-16z4d7m"><div class="mantine-Group-child mantine-1ms9cja"><div class="mantine-ThemeIcon-root mantine-hn4s1y"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-notes" width="18" height="18" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><rect x="5" y="3" width="14" height="18" rx="2"></rect><line x1="9" y1="7" x2="15" y2="7"></line><line x1="9" y1="11" x2="15" y2="11"></line><line x1="9" y1="15" x2="13" y2="15"></line></svg></div><div class="mantine-1l4yfk">TypeScript</div></div><svg xmlns="http://www.w3.org/2000/svg" class="mantine-Group-child mantine-1f8f5fa" width="14" height="14" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" style="transform:none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="9 6 15 12 9 18"></polyline></svg></div></button><div class="mantine-1avyp1d" style="box-sizing:border-box;display:none;height:0px;overflow:hidden" aria-hidden="true"><div style="opacity:0;transition:opacity 200ms ease"></div></div><button class="mantine-UnstyledButton-root mantine-12cffag" type="button"><div class="mantine-Group-root mantine-16z4d7m"><div class="mantine-Group-child mantine-1ms9cja"><div class="mantine-ThemeIcon-root mantine-hn4s1y"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-notes" width="18" height="18" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><rect x="5" y="3" width="14" height="18" rx="2"></rect><line x1="9" y1="7" x2="15" y2="7"></line><line x1="9" y1="11" x2="15" y2="11"></line><line x1="9" y1="15" x2="13" y2="15"></line></svg></div><div class="mantine-1l4yfk">Nginx</div></div><svg xmlns="http://www.w3.org/2000/svg" class="mantine-Group-child mantine-1f8f5fa" width="14" height="14" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" style="transform:none"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="9 6 15 12 9 18"></polyline></svg></div></button><div class="mantine-1avyp1d" style="box-sizing:border-box;display:none;height:0px;overflow:hidden" aria-hidden="true"><div style="opacity:0;transition:opacity 200ms ease"></div></div></div></div></div></div><style data-emotion="css-global abz8di">:root{--mantine-navbar-width:0px;}@media (min-width: 769px){:root{--mantine-navbar-width:180px;}}@media (min-width: 1201px){:root{--mantine-navbar-width:240px;}}</style></nav><main class="mantine-16pqg5q mantine-AppShell-main"><div><div style="margin:2% 1%"><div class="mantine-Text-root mantine-1ex2esu">Axios Interceptors</div><section><div class="mantine-Text-root mantine-1hiy5kx">Published: Jul 28, 2022 | Last Modified: Jul 31, 2022</div></section><div class="mantine-Text-root mantine-f5a7ga">Using axios interceptor we can intercept requests or responses before they are handled. There are 2 types of interceptor. One is a request interceptor and another is a response interceptor.</div><div class="mantine-Text-root mantine-pvs2yu">What does the interceptor do?</div><div class="mantine-Text-root mantine-pvs2yu">Interceptor is like a middleware. If we add a request interceptor with any instance then when we call any API using that instance, that API call will go through the request interceptor before that request is made. Same for response interceptor.</div><div class="mantine-Text-root mantine-pvs2yu">We have our private hook.</div><div class="mantine-Text-root mantine-g1k9yk">hooks/usePrivateAxios.ts</div><div class="mantine-Prism-root mantine-19ywu6w"><div class="mantine-Tooltip-root mantine-Prism-copy mantine-ejiexz"><button class="mantine-ActionIcon-hover mantine-ActionIcon-root mantine-t0y1bq" type="button" aria-label="Copy code"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div><div class="mantine-ScrollArea-root mantine-Prism-scrollArea mantine-1j1ni8n" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px" dir="ltr"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="mantine-xlwgkm mantine-ScrollArea-viewport" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><pre class="mantine-11jfaka mantine-Prism-code prism-code language-typescript" style="color:#212529;background-color:rgba(248, 249, 250, 0.65)" dir="ltr"><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">1</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token keyword" style="color:#c92a2a">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"> axiosPrivateInstance </span><span class="token punctuation" style="color:#495057">}</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">from</span><span class="token plain"> </span><span class="token string" style="color:#364fc7">&quot;../instances&quot;</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">2</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain"></span><span class="token keyword" style="color:#c92a2a">import</span><span class="token plain"> axiosRequests </span><span class="token keyword" style="color:#c92a2a">from</span><span class="token plain"> </span><span class="token string" style="color:#364fc7">&quot;../helpers/axiosRequests&quot;</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">3</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain" style="display:inline-block">
</span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">4</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain"></span><span class="token keyword" style="color:#c92a2a">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">default</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">function</span><span class="token plain"> </span><span class="token function" style="color:#5c940d">usePrivateAxios</span><span class="token punctuation" style="color:#495057">(</span><span class="token punctuation" style="color:#495057">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">5</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  </span><span class="token keyword" style="color:#c92a2a">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">6</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    getRequest</span><span class="token operator" style="color:#c92a2a">:</span><span class="token plain"> privateGet</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">7</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    postRequest</span><span class="token operator" style="color:#c92a2a">:</span><span class="token plain"> privatePost</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">8</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    putRequest</span><span class="token operator" style="color:#c92a2a">:</span><span class="token plain"> privatePut</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">9</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    patchRequest</span><span class="token operator" style="color:#c92a2a">:</span><span class="token plain"> privatePatch</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">10</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    deleteRequest</span><span class="token operator" style="color:#c92a2a">:</span><span class="token plain"> privateDelete</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">11</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  </span><span class="token punctuation" style="color:#495057">}</span><span class="token plain"> </span><span class="token operator" style="color:#c92a2a">=</span><span class="token plain"> </span><span class="token function" style="color:#5c940d">axiosRequests</span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">axiosPrivateInstance</span><span class="token punctuation" style="color:#495057">)</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">12</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain" style="display:inline-block">
</span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">13</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  </span><span class="token keyword" style="color:#c92a2a">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"> privateGet</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"> privatePost</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"> privatePut</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"> privatePatch</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"> privateDelete </span><span class="token punctuation" style="color:#495057">}</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">14</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain"></span><span class="token punctuation" style="color:#495057">}</span></div></div></pre></div></div></div></div><div class="mantine-Text-root mantine-179z3p8">Now, we will add a request and response interceptor with our private interceptor in this private hook.</div><div class="mantine-Text-root mantine-134jnqh" id="requestInterceptor">Request interceptor</div><div class="mantine-Text-root mantine-pvs2yu">Using request interceptor, we will add authorization header with access token before the request made by private instance.</div><div class="mantine-Paper-root mantine-Card-root mantine-z6zn9w"><div class="mantine-Text-root mantine-2qa0ve">We can pass access token from any kind of memory. It can be persistent memory <b>(localhost)</b> or app memory <b>(state)</b>.</div></div><div class="mantine-Text-root mantine-2qa0ve">Create <b>interceptors/requestInterceptor.ts</b></div><div class="mantine-Prism-root mantine-19ywu6w"><div class="mantine-Tooltip-root mantine-Prism-copy mantine-ejiexz"><button class="mantine-ActionIcon-hover mantine-ActionIcon-root mantine-t0y1bq" type="button" aria-label="Copy code"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div><div class="mantine-ScrollArea-root mantine-Prism-scrollArea mantine-1j1ni8n" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px" dir="ltr"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="mantine-xlwgkm mantine-ScrollArea-viewport" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><pre class="mantine-11jfaka mantine-Prism-code prism-code language-typescript" style="color:#212529;background-color:rgba(248, 249, 250, 0.65)" dir="ltr"><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">1</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token keyword" style="color:#c92a2a">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"> AxiosError</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"> AxiosInstance</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"> AxiosRequestConfig </span><span class="token punctuation" style="color:#495057">}</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">from</span><span class="token plain"> </span><span class="token string" style="color:#364fc7">&quot;axios&quot;</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">2</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain" style="display:inline-block">
</span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">3</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain"></span><span class="token keyword" style="color:#c92a2a">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">default</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">function</span><span class="token plain"> </span><span class="token function" style="color:#5c940d">requestInterceptor</span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">instance</span><span class="token operator" style="color:#c92a2a">:</span><span class="token plain"> AxiosInstance</span><span class="token punctuation" style="color:#495057">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">4</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  </span><span class="token keyword" style="color:#c92a2a">const</span><span class="token plain"> requestIntercept </span><span class="token operator" style="color:#c92a2a">=</span><span class="token plain"> instance</span><span class="token punctuation" style="color:#495057">.</span><span class="token plain">interceptors</span><span class="token punctuation" style="color:#495057">.</span><span class="token plain">request</span><span class="token punctuation" style="color:#495057">.</span><span class="token function" style="color:#5c940d">use</span><span class="token punctuation" style="color:#495057">(</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">5</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    </span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">config</span><span class="token operator" style="color:#c92a2a">:</span><span class="token plain"> AxiosRequestConfig</span><span class="token punctuation" style="color:#495057">)</span><span class="token plain"> </span><span class="token operator" style="color:#c92a2a">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">6</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">      </span><span class="token keyword" style="color:#c92a2a">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">config</span><span class="token punctuation" style="color:#495057">.</span><span class="token plain">headers</span><span class="token punctuation" style="color:#495057">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">7</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">        config</span><span class="token punctuation" style="color:#495057">.</span><span class="token plain">headers</span><span class="token punctuation" style="color:#495057">.</span><span class="token plain">Authorization </span><span class="token operator" style="color:#c92a2a">=</span><span class="token plain"> </span><span class="token string" style="color:#364fc7">&quot;Bearer Your_Access_Token_From_Any_Storage&quot;</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">8</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">      </span><span class="token punctuation" style="color:#495057">}</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">9</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">      </span><span class="token keyword" style="color:#c92a2a">return</span><span class="token plain"> config</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">10</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    </span><span class="token punctuation" style="color:#495057">}</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">11</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    </span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">error</span><span class="token operator" style="color:#c92a2a">:</span><span class="token plain"> AxiosError</span><span class="token punctuation" style="color:#495057">)</span><span class="token plain"> </span><span class="token operator" style="color:#c92a2a">=&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:#5c940d">Promise</span><span class="token punctuation" style="color:#495057">.</span><span class="token function" style="color:#5c940d">reject</span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#495057">)</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">12</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  </span><span class="token punctuation" style="color:#495057">)</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">13</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  </span><span class="token keyword" style="color:#c92a2a">return</span><span class="token plain"> requestIntercept</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">14</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain"></span><span class="token punctuation" style="color:#495057">}</span></div></div></pre></div></div></div></div><div class="mantine-Text-root mantine-3uok58" id="responseInterceptor">Response interceptor</div><div class="mantine-Text-root mantine-pvs2yu">Here we will consider a response interceptor for refresh token functionality.</div><div class="mantine-Text-root mantine-pvs2yu">We know, expiration time of access token is less for security purpose and refresh token expiration time is more. We always pass access token with authorization header.</div><div class="mantine-Text-root mantine-pvs2yu">When any request fails for authorization error then this response interceptor will create an API call to the refresh token path using refresh token and get the access token. Then that previous request will call again with the latest access token.</div><div class="mantine-Text-root mantine-pvs2yu">Before creating a response interceptor, letâ€™s create a hook for refresh API path.</div><div class="mantine-Text-root mantine-2qa0ve">Create <b>hooks/useRefreshToken.ts</b></div><div class="mantine-Prism-root mantine-19ywu6w"><div class="mantine-Tooltip-root mantine-Prism-copy mantine-ejiexz"><button class="mantine-ActionIcon-hover mantine-ActionIcon-root mantine-t0y1bq" type="button" aria-label="Copy code"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div><div class="mantine-ScrollArea-root mantine-Prism-scrollArea mantine-1j1ni8n" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px" dir="ltr"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="mantine-xlwgkm mantine-ScrollArea-viewport" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><pre class="mantine-11jfaka mantine-Prism-code prism-code language-typescript" style="color:#212529;background-color:rgba(248, 249, 250, 0.65)" dir="ltr"><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">1</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token keyword" style="color:#c92a2a">import</span><span class="token plain"> usePublicAxios </span><span class="token keyword" style="color:#c92a2a">from</span><span class="token plain"> </span><span class="token string" style="color:#364fc7">&quot;./usePublicAxios&quot;</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">2</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain" style="display:inline-block">
</span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">3</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain"></span><span class="token keyword" style="color:#c92a2a">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">default</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">function</span><span class="token plain"> </span><span class="token function" style="color:#5c940d">useRefreshToken</span><span class="token punctuation" style="color:#495057">(</span><span class="token punctuation" style="color:#495057">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">4</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  </span><span class="token keyword" style="color:#c92a2a">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"> publicGet </span><span class="token punctuation" style="color:#495057">}</span><span class="token plain"> </span><span class="token operator" style="color:#c92a2a">=</span><span class="token plain"> </span><span class="token function" style="color:#5c940d">usePublicAxios</span><span class="token punctuation" style="color:#495057">(</span><span class="token punctuation" style="color:#495057">)</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">5</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  </span><span class="token keyword" style="color:#c92a2a">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#5c940d">refresh</span><span class="token plain"> </span><span class="token operator" style="color:#c92a2a">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">(</span><span class="token punctuation" style="color:#495057">)</span><span class="token plain"> </span><span class="token operator" style="color:#c92a2a">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">6</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    </span><span class="token keyword" style="color:#c92a2a">const</span><span class="token plain"> response </span><span class="token operator" style="color:#c92a2a">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">await</span><span class="token plain"> </span><span class="token function" style="color:#5c940d">publicGet</span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">Your_Refresh_API_Path</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">7</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">      activateAbort</span><span class="token operator" style="color:#c92a2a">:</span><span class="token plain"> </span><span class="token boolean" style="color:#c92a2a">false</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">8</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    </span><span class="token punctuation" style="color:#495057">}</span><span class="token punctuation" style="color:#495057">)</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">9</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain" style="display:inline-block">
</span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">10</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    </span><span class="token comment" style="color:#868e96">// You can set your new access token where you want!</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">11</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    </span><span class="token keyword" style="color:#c92a2a">return</span><span class="token plain"> response</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">12</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  </span><span class="token punctuation" style="color:#495057">}</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">13</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  </span><span class="token keyword" style="color:#c92a2a">return</span><span class="token plain"> refresh</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">14</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain"></span><span class="token punctuation" style="color:#495057">}</span></div></div></pre></div></div></div></div><div class="mantine-Text-root mantine-12cibq6">Now create <b>interceptors/responseInterceptor.ts</b></div><div class="mantine-Prism-root mantine-19ywu6w"><div class="mantine-Tooltip-root mantine-Prism-copy mantine-ejiexz"><button class="mantine-ActionIcon-hover mantine-ActionIcon-root mantine-t0y1bq" type="button" aria-label="Copy code"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div><div class="mantine-ScrollArea-root mantine-Prism-scrollArea mantine-1j1ni8n" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px" dir="ltr"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="mantine-xlwgkm mantine-ScrollArea-viewport" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><pre class="mantine-11jfaka mantine-Prism-code prism-code language-typescript" style="color:#212529;background-color:rgba(248, 249, 250, 0.65)" dir="ltr"><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">1</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token keyword" style="color:#c92a2a">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"> AxiosError</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"> AxiosInstance</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"> AxiosResponse </span><span class="token punctuation" style="color:#495057">}</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">from</span><span class="token plain"> </span><span class="token string" style="color:#364fc7">&quot;axios&quot;</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">2</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain"></span><span class="token keyword" style="color:#c92a2a">import</span><span class="token plain"> useRefreshToken </span><span class="token keyword" style="color:#c92a2a">from</span><span class="token plain"> </span><span class="token string" style="color:#364fc7">&quot;../hooks/useRefreshToken&quot;</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">3</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain" style="display:inline-block">
</span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">4</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain"></span><span class="token keyword" style="color:#c92a2a">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">default</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">function</span><span class="token plain"> </span><span class="token function" style="color:#5c940d">responseInterceptor</span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">instance</span><span class="token operator" style="color:#c92a2a">:</span><span class="token plain"> AxiosInstance</span><span class="token punctuation" style="color:#495057">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">5</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  </span><span class="token keyword" style="color:#c92a2a">const</span><span class="token plain"> refresh </span><span class="token operator" style="color:#c92a2a">=</span><span class="token plain"> </span><span class="token function" style="color:#5c940d">useRefreshToken</span><span class="token punctuation" style="color:#495057">(</span><span class="token punctuation" style="color:#495057">)</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">6</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain" style="display:inline-block">
</span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">7</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  </span><span class="token keyword" style="color:#c92a2a">const</span><span class="token plain"> responseIntercept </span><span class="token operator" style="color:#c92a2a">=</span><span class="token plain"> instance</span><span class="token punctuation" style="color:#495057">.</span><span class="token plain">interceptors</span><span class="token punctuation" style="color:#495057">.</span><span class="token plain">response</span><span class="token punctuation" style="color:#495057">.</span><span class="token function" style="color:#5c940d">use</span><span class="token punctuation" style="color:#495057">(</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">8</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    </span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">response</span><span class="token operator" style="color:#c92a2a">:</span><span class="token plain"> AxiosResponse</span><span class="token punctuation" style="color:#495057">)</span><span class="token plain"> </span><span class="token operator" style="color:#c92a2a">=&gt;</span><span class="token plain"> response</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">9</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    </span><span class="token keyword" style="color:#c92a2a">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">error</span><span class="token operator" style="color:#c92a2a">:</span><span class="token plain"> AxiosError</span><span class="token punctuation" style="color:#495057">)</span><span class="token plain"> </span><span class="token operator" style="color:#c92a2a">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">10</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">      </span><span class="token keyword" style="color:#c92a2a">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"> config</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"> response </span><span class="token punctuation" style="color:#495057">}</span><span class="token plain"> </span><span class="token operator" style="color:#c92a2a">=</span><span class="token plain"> error</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">11</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain" style="display:inline-block">
</span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">12</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">      </span><span class="token keyword" style="color:#c92a2a">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">response</span><span class="token operator" style="color:#c92a2a">?.</span><span class="token plain">status </span><span class="token operator" style="color:#c92a2a">===</span><span class="token plain"> </span><span class="token number" style="color:#1c7ed6">401</span><span class="token punctuation" style="color:#495057">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">13</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">        </span><span class="token keyword" style="color:#c92a2a">const</span><span class="token plain"> newAccessToken </span><span class="token operator" style="color:#c92a2a">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">await</span><span class="token plain"> </span><span class="token function" style="color:#5c940d">refresh</span><span class="token punctuation" style="color:#495057">(</span><span class="token punctuation" style="color:#495057">)</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">14</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">        </span><span class="token keyword" style="color:#c92a2a">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">newAccessToken </span><span class="token operator" style="color:#c92a2a">&amp;&amp;</span><span class="token plain"> config</span><span class="token punctuation" style="color:#495057">.</span><span class="token plain">headers</span><span class="token punctuation" style="color:#495057">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">15</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">          config</span><span class="token punctuation" style="color:#495057">.</span><span class="token plain">headers</span><span class="token punctuation" style="color:#495057">.</span><span class="token plain">Authorization </span><span class="token operator" style="color:#c92a2a">=</span><span class="token plain"> </span><span class="token string" style="color:#364fc7">&quot;Bearer Your_New_Access_Token_From_Refresh_Path&quot;</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">16</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">        </span><span class="token punctuation" style="color:#495057">}</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">17</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">        </span><span class="token keyword" style="color:#c92a2a">return</span><span class="token plain"> </span><span class="token function" style="color:#5c940d">instance</span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">config</span><span class="token punctuation" style="color:#495057">)</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">18</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">      </span><span class="token punctuation" style="color:#495057">}</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">19</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">      </span><span class="token keyword" style="color:#c92a2a">return</span><span class="token plain"> </span><span class="token builtin" style="color:#5c940d">Promise</span><span class="token punctuation" style="color:#495057">.</span><span class="token function" style="color:#5c940d">reject</span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#495057">)</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">20</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    </span><span class="token punctuation" style="color:#495057">}</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">21</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  </span><span class="token punctuation" style="color:#495057">)</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">22</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  </span><span class="token keyword" style="color:#c92a2a">return</span><span class="token plain"> responseIntercept</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">23</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain"></span><span class="token punctuation" style="color:#495057">}</span></div></div></pre></div></div></div></div><div class="mantine-Paper-root mantine-Card-root mantine-z6zn9w"><div class="mantine-Text-root mantine-2qa0ve">There is a chance for memory leak. When a request is sent with an access token and it gives an authorization error then the refresh API will call with refresh token and if that gives the correct access token then the previous API will call. And if every time that API gives authorization error, API calls will continue infinitely. So we need to stop the API call after twice.</div></div><div class="mantine-Text-root mantine-2qa0ve">The complete <b>interceptors/responseInterceptor.ts</b></div><div class="mantine-Prism-root mantine-19ywu6w"><div class="mantine-Tooltip-root mantine-Prism-copy mantine-ejiexz"><button class="mantine-ActionIcon-hover mantine-ActionIcon-root mantine-t0y1bq" type="button" aria-label="Copy code"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div><div class="mantine-ScrollArea-root mantine-Prism-scrollArea mantine-1j1ni8n" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px" dir="ltr"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="mantine-xlwgkm mantine-ScrollArea-viewport" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><pre class="mantine-11jfaka mantine-Prism-code prism-code language-typescript" style="color:#212529;background-color:rgba(248, 249, 250, 0.65)" dir="ltr"><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">1</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token keyword" style="color:#c92a2a">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"> AxiosError</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"> AxiosInstance</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"> AxiosResponse </span><span class="token punctuation" style="color:#495057">}</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">from</span><span class="token plain"> </span><span class="token string" style="color:#364fc7">&quot;axios&quot;</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">2</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain"></span><span class="token keyword" style="color:#c92a2a">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"> ICustomAxiosRequestConfig </span><span class="token punctuation" style="color:#495057">}</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">from</span><span class="token plain"> </span><span class="token string" style="color:#364fc7">&quot;../interfaces/customAxiosRequestConfig&quot;</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">3</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain"></span><span class="token keyword" style="color:#c92a2a">import</span><span class="token plain"> useRefreshToken </span><span class="token keyword" style="color:#c92a2a">from</span><span class="token plain"> </span><span class="token string" style="color:#364fc7">&quot;../hooks/useRefreshToken&quot;</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">4</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain" style="display:inline-block">
</span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">5</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain"></span><span class="token keyword" style="color:#c92a2a">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">default</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">function</span><span class="token plain"> </span><span class="token function" style="color:#5c940d">responseInterceptor</span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">instance</span><span class="token operator" style="color:#c92a2a">:</span><span class="token plain"> AxiosInstance</span><span class="token punctuation" style="color:#495057">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">6</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  </span><span class="token keyword" style="color:#c92a2a">const</span><span class="token plain"> refresh </span><span class="token operator" style="color:#c92a2a">=</span><span class="token plain"> </span><span class="token function" style="color:#5c940d">useRefreshToken</span><span class="token punctuation" style="color:#495057">(</span><span class="token punctuation" style="color:#495057">)</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">7</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain" style="display:inline-block">
</span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">8</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  </span><span class="token keyword" style="color:#c92a2a">const</span><span class="token plain"> responseIntercept </span><span class="token operator" style="color:#c92a2a">=</span><span class="token plain"> instance</span><span class="token punctuation" style="color:#495057">.</span><span class="token plain">interceptors</span><span class="token punctuation" style="color:#495057">.</span><span class="token plain">response</span><span class="token punctuation" style="color:#495057">.</span><span class="token function" style="color:#5c940d">use</span><span class="token punctuation" style="color:#495057">(</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">9</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    </span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">response</span><span class="token operator" style="color:#c92a2a">:</span><span class="token plain"> AxiosResponse</span><span class="token punctuation" style="color:#495057">)</span><span class="token plain"> </span><span class="token operator" style="color:#c92a2a">=&gt;</span><span class="token plain"> response</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">10</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    </span><span class="token keyword" style="color:#c92a2a">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">error</span><span class="token operator" style="color:#c92a2a">:</span><span class="token plain"> AxiosError</span><span class="token punctuation" style="color:#495057">)</span><span class="token plain"> </span><span class="token operator" style="color:#c92a2a">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">11</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">      </span><span class="token keyword" style="color:#c92a2a">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"> config</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"> response </span><span class="token punctuation" style="color:#495057">}</span><span class="token plain"> </span><span class="token operator" style="color:#c92a2a">=</span><span class="token plain"> error</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">12</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">      </span><span class="token keyword" style="color:#c92a2a">let</span><span class="token plain"> prevRequest</span><span class="token operator" style="color:#c92a2a">:</span><span class="token plain"> ICustomAxiosRequestConfig </span><span class="token operator" style="color:#c92a2a">=</span><span class="token plain"> config</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">13</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain" style="display:inline-block">
</span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">14</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">      </span><span class="token keyword" style="color:#c92a2a">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">response</span><span class="token operator" style="color:#c92a2a">?.</span><span class="token plain">status </span><span class="token operator" style="color:#c92a2a">===</span><span class="token plain"> </span><span class="token number" style="color:#1c7ed6">401</span><span class="token plain"> </span><span class="token operator" style="color:#c92a2a">&amp;&amp;</span><span class="token plain"> </span><span class="token operator" style="color:#c92a2a">!</span><span class="token plain">prevRequest</span><span class="token punctuation" style="color:#495057">.</span><span class="token plain">sent</span><span class="token punctuation" style="color:#495057">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">15</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">        prevRequest</span><span class="token punctuation" style="color:#495057">.</span><span class="token plain">sent </span><span class="token operator" style="color:#c92a2a">=</span><span class="token plain"> </span><span class="token boolean" style="color:#c92a2a">true</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">16</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">        </span><span class="token keyword" style="color:#c92a2a">const</span><span class="token plain"> newAccessToken </span><span class="token operator" style="color:#c92a2a">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">await</span><span class="token plain"> </span><span class="token function" style="color:#5c940d">refresh</span><span class="token punctuation" style="color:#495057">(</span><span class="token punctuation" style="color:#495057">)</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">17</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">        </span><span class="token keyword" style="color:#c92a2a">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">newAccessToken </span><span class="token operator" style="color:#c92a2a">&amp;&amp;</span><span class="token plain"> prevRequest</span><span class="token punctuation" style="color:#495057">.</span><span class="token plain">headers</span><span class="token punctuation" style="color:#495057">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">18</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">          prevRequest</span><span class="token punctuation" style="color:#495057">.</span><span class="token plain">headers</span><span class="token punctuation" style="color:#495057">.</span><span class="token plain">Authorization </span><span class="token operator" style="color:#c92a2a">=</span><span class="token plain"> </span><span class="token string" style="color:#364fc7">&quot;Bearer Your_New_Access_Token_From_Refresh_Path&quot;</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">19</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">        </span><span class="token punctuation" style="color:#495057">}</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">20</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">        </span><span class="token keyword" style="color:#c92a2a">return</span><span class="token plain"> </span><span class="token function" style="color:#5c940d">instance</span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">prevRequest</span><span class="token punctuation" style="color:#495057">)</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">21</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">      </span><span class="token punctuation" style="color:#495057">}</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">22</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">      </span><span class="token keyword" style="color:#c92a2a">return</span><span class="token plain"> </span><span class="token builtin" style="color:#5c940d">Promise</span><span class="token punctuation" style="color:#495057">.</span><span class="token function" style="color:#5c940d">reject</span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#495057">)</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">23</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    </span><span class="token punctuation" style="color:#495057">}</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">24</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  </span><span class="token punctuation" style="color:#495057">)</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">25</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  </span><span class="token keyword" style="color:#c92a2a">return</span><span class="token plain"> responseIntercept</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">26</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain"></span><span class="token punctuation" style="color:#495057">}</span></div></div></pre></div></div></div></div><div class="mantine-Text-root mantine-12cibq6">For interface, create <b>interfaces/customAxiosRequestConfig.ts</b></div><div class="mantine-Prism-root mantine-19ywu6w"><div class="mantine-Tooltip-root mantine-Prism-copy mantine-ejiexz"><button class="mantine-ActionIcon-hover mantine-ActionIcon-root mantine-t0y1bq" type="button" aria-label="Copy code"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div><div class="mantine-ScrollArea-root mantine-Prism-scrollArea mantine-1j1ni8n" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px" dir="ltr"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="mantine-xlwgkm mantine-ScrollArea-viewport" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><pre class="mantine-11jfaka mantine-Prism-code prism-code language-typescript" style="color:#212529;background-color:rgba(248, 249, 250, 0.65)" dir="ltr"><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1lnqfos mantine-Prism-lineNumber">1</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token keyword" style="color:#c92a2a">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"> AxiosRequestConfig </span><span class="token punctuation" style="color:#495057">}</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">from</span><span class="token plain"> </span><span class="token string" style="color:#364fc7">&quot;axios&quot;</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1lnqfos mantine-Prism-lineNumber">2</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain" style="display:inline-block">
</span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1lnqfos mantine-Prism-lineNumber">3</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain"></span><span class="token keyword" style="color:#c92a2a">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#c92a2a">ICustomAxiosRequestConfig</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#c92a2a">AxiosRequestConfig</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1lnqfos mantine-Prism-lineNumber">4</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  sent</span><span class="token operator" style="color:#c92a2a">?</span><span class="token operator" style="color:#c92a2a">:</span><span class="token plain"> </span><span class="token builtin" style="color:#5c940d">boolean</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1lnqfos mantine-Prism-lineNumber">5</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain"></span><span class="token punctuation" style="color:#495057">}</span></div></div></pre></div></div></div></div><div class="mantine-Text-root mantine-3uok58" id="addingInterceptors">Adding interceptors with private hook</div><div class="mantine-Text-root mantine-pvs2yu">We will remove interceptors when this hook will unmount from any component to avoid memory leak.</div><div class="mantine-Text-root mantine-2qa0ve">Here the complete <b>hooks/usePrivateAxios.ts</b></div><div class="mantine-Prism-root mantine-19ywu6w"><div class="mantine-Tooltip-root mantine-Prism-copy mantine-ejiexz"><button class="mantine-ActionIcon-hover mantine-ActionIcon-root mantine-t0y1bq" type="button" aria-label="Copy code"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div><div class="mantine-ScrollArea-root mantine-Prism-scrollArea mantine-1j1ni8n" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px" dir="ltr"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="mantine-xlwgkm mantine-ScrollArea-viewport" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><pre class="mantine-11jfaka mantine-Prism-code prism-code language-typescript" style="color:#212529;background-color:rgba(248, 249, 250, 0.65)" dir="ltr"><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">1</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token keyword" style="color:#c92a2a">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"> useEffect </span><span class="token punctuation" style="color:#495057">}</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">from</span><span class="token plain"> </span><span class="token string" style="color:#364fc7">&quot;react&quot;</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">2</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain"></span><span class="token keyword" style="color:#c92a2a">import</span><span class="token plain"> requestInterceptor </span><span class="token keyword" style="color:#c92a2a">from</span><span class="token plain"> </span><span class="token string" style="color:#364fc7">&quot;../interceptors/requestInterceptor&quot;</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">3</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain"></span><span class="token keyword" style="color:#c92a2a">import</span><span class="token plain"> responseInterceptor </span><span class="token keyword" style="color:#c92a2a">from</span><span class="token plain"> </span><span class="token string" style="color:#364fc7">&quot;../interceptors/responseInterceptor&quot;</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">4</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain"></span><span class="token keyword" style="color:#c92a2a">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"> axiosPrivateInstance </span><span class="token punctuation" style="color:#495057">}</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">from</span><span class="token plain"> </span><span class="token string" style="color:#364fc7">&quot;../instances&quot;</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">5</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain"></span><span class="token keyword" style="color:#c92a2a">import</span><span class="token plain"> axiosRequests </span><span class="token keyword" style="color:#c92a2a">from</span><span class="token plain"> </span><span class="token string" style="color:#364fc7">&quot;../helpers/axiosRequests&quot;</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">6</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain" style="display:inline-block">
</span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">7</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain"></span><span class="token keyword" style="color:#c92a2a">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">default</span><span class="token plain"> </span><span class="token keyword" style="color:#c92a2a">function</span><span class="token plain"> </span><span class="token function" style="color:#5c940d">usePrivateAxios</span><span class="token punctuation" style="color:#495057">(</span><span class="token punctuation" style="color:#495057">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">8</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  </span><span class="token keyword" style="color:#c92a2a">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">9</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    getRequest</span><span class="token operator" style="color:#c92a2a">:</span><span class="token plain"> privateGet</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">10</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    postRequest</span><span class="token operator" style="color:#c92a2a">:</span><span class="token plain"> privatePost</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">11</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    putRequest</span><span class="token operator" style="color:#c92a2a">:</span><span class="token plain"> privatePut</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">12</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    patchRequest</span><span class="token operator" style="color:#c92a2a">:</span><span class="token plain"> privatePatch</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">13</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    deleteRequest</span><span class="token operator" style="color:#c92a2a">:</span><span class="token plain"> privateDelete</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">14</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  </span><span class="token punctuation" style="color:#495057">}</span><span class="token plain"> </span><span class="token operator" style="color:#c92a2a">=</span><span class="token plain"> </span><span class="token function" style="color:#5c940d">axiosRequests</span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">axiosPrivateInstance</span><span class="token punctuation" style="color:#495057">)</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">15</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain" style="display:inline-block">
</span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">16</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  </span><span class="token function" style="color:#5c940d">useEffect</span><span class="token punctuation" style="color:#495057">(</span><span class="token punctuation" style="color:#495057">(</span><span class="token punctuation" style="color:#495057">)</span><span class="token plain"> </span><span class="token operator" style="color:#c92a2a">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">17</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    </span><span class="token keyword" style="color:#c92a2a">const</span><span class="token plain"> requestIntercept </span><span class="token operator" style="color:#c92a2a">=</span><span class="token plain"> </span><span class="token function" style="color:#5c940d">requestInterceptor</span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">axiosPrivateInstance</span><span class="token punctuation" style="color:#495057">)</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">18</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    </span><span class="token keyword" style="color:#c92a2a">const</span><span class="token plain"> responseIntercept </span><span class="token operator" style="color:#c92a2a">=</span><span class="token plain"> </span><span class="token function" style="color:#5c940d">responseInterceptor</span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">axiosPrivateInstance</span><span class="token punctuation" style="color:#495057">)</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">19</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    </span><span class="token keyword" style="color:#c92a2a">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">(</span><span class="token punctuation" style="color:#495057">)</span><span class="token plain"> </span><span class="token operator" style="color:#c92a2a">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">20</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">      axiosPrivateInstance</span><span class="token punctuation" style="color:#495057">.</span><span class="token plain">interceptors</span><span class="token punctuation" style="color:#495057">.</span><span class="token plain">request</span><span class="token punctuation" style="color:#495057">.</span><span class="token function" style="color:#5c940d">eject</span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">requestIntercept</span><span class="token punctuation" style="color:#495057">)</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">21</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">      axiosPrivateInstance</span><span class="token punctuation" style="color:#495057">.</span><span class="token plain">interceptors</span><span class="token punctuation" style="color:#495057">.</span><span class="token plain">response</span><span class="token punctuation" style="color:#495057">.</span><span class="token function" style="color:#5c940d">eject</span><span class="token punctuation" style="color:#495057">(</span><span class="token plain">responseIntercept</span><span class="token punctuation" style="color:#495057">)</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">22</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">    </span><span class="token punctuation" style="color:#495057">}</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">23</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  </span><span class="token punctuation" style="color:#495057">}</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">[</span><span class="token punctuation" style="color:#495057">]</span><span class="token punctuation" style="color:#495057">)</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">24</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain" style="display:inline-block">
</span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">25</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain">  </span><span class="token keyword" style="color:#c92a2a">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#495057">{</span><span class="token plain"> privateGet</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"> privatePost</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"> privatePut</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"> privatePatch</span><span class="token punctuation" style="color:#495057">,</span><span class="token plain"> privateDelete </span><span class="token punctuation" style="color:#495057">}</span><span class="token punctuation" style="color:#495057">;</span><span class="token plain"></span></div></div><div class="mantine-1e8ljqt mantine-Prism-line token-line"><div class="mantine-1fh40a mantine-Prism-lineNumber">26</div><div class="mantine-26ugy1 mantine-Prism-lineContent"><span class="token plain"></span><span class="token punctuation" style="color:#495057">}</span></div></div></pre></div></div></div></div><div class="mantine-Text-root mantine-12cibq6">Finally, we will move all axios related folders to the<!-- --> <b>libs/axios</b> folder.</div><div style="margin-top:20px"></div></div></div></main></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/docs/axios/interceptors","query":{},"buildId":"elnmWh8fj0RsopD2HdCAS","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>