(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[468],{8076:function(e,t,o){"use strict";o.d(t,{e:function(){return h}});var n=o(7294),s=o(3857),r=o(112),a=(0,o(8067).k)((()=>({root:{backgroundColor:"transparent",cursor:"pointer",padding:0,border:0}}))),i=Object.defineProperty,c=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,d=(e,t,o)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,m=(e,t)=>{for(var o in t||(t={}))l.call(t,o)&&d(e,o,t[o]);if(c)for(var o of c(t))u.call(t,o)&&d(e,o,t[o]);return e};const p={},h=(0,n.forwardRef)(((e,t)=>{const o=(0,s.Z3)("Anchor",p,e),{component:i,className:d,classNames:h,styles:f}=o,x=((e,t)=>{var o={};for(var n in e)l.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&c)for(var n of c(e))t.indexOf(n)<0&&u.call(e,n)&&(o[n]=e[n]);return o})(o,["component","className","classNames","styles"]),{classes:g,cx:y}=a(null,{name:"Anchor",classNames:h,styles:f}),b="button"===i?{type:"button"}:null;return n.createElement(r.x,m(m({component:i||"a",variant:"link",ref:t,className:y(g.root,d)},b),x))}));h.displayName="@mantine/core/Anchor"},5656:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/react-query/demo-requests",function(){return o(4034)}])},9030:function(e,t,o){"use strict";function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var s=(0,o(8067).k)((function(e){var t;return{containerClass:(t={margin:"2% 15% 2% 10%"},n(t,e.fn.smallerThan("md"),{margin:"2%"}),n(t,e.fn.smallerThan("sm"),{margin:"1%"}),t)}}));t.Z=s},1385:function(e,t,o){"use strict";var n=o(5893),s=o(7870);t.Z=function(e){var t=e.theme;return(0,n.jsx)(s.Z,{id:"comments",repo:"biplobmahadi/biplobmahadi.github.io",repoId:"R_kgDOHkgVOA",category:"Comments",categoryId:"DIC_kwDOHkgVOM4CQGH7",mapping:"title",term:"Welcome!",reactionsEnabled:"1",emitMetadata:"0",inputPosition:"top",theme:t,lang:"en",loading:"lazy"})}},1580:function(e,t,o){"use strict";var n=o(5893),s=o(3857),r=o(6955);t.Z=function(e){var t=e.code,o=e.language,a=(0,s.rZ)().colorScheme;return(0,n.jsx)(r.p1,{sx:{margin:"1% 0",border:"1px gray solid",borderRadius:"6px"},language:o,withLineNumbers:!0,colorScheme:"dark"===a?"dark":"light",children:t})}},4034:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return p}});var n=o(5893),s=o(9008),r=o.n(s),a=o(7294),i=o(3857),c=o(112),l=o(8076),u=o(9030),d=o(1385),m=o(1580),p=function(){var e=(0,i.rZ)().colorScheme,t=(0,u.Z)().classes;return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(r(),{children:(0,n.jsx)("title",{children:"Demo Requests - React Query"})}),(0,n.jsxs)("div",{className:t.containerClass,children:[(0,n.jsx)(c.x,{size:"xl",weight:700,mb:30,align:"center",children:"Demo Requests with React Component"}),(0,n.jsx)("section",{children:(0,n.jsx)(c.x,{size:"xs",color:"dimmed",children:"Published: Jul 24, 2022 | Last Modified: Jul 24, 2022"})}),(0,n.jsxs)(c.x,{size:"sm",my:20,children:["We will use"," ",(0,n.jsx)(l.e,{href:"https://jsonplaceholder.typicode.com",target:"_blank",children:"Json Placeholder"})," ","for some fake rest API. Also we will create a React component to test all requests ",(0,n.jsx)("b",{children:"(GET, POST, PUT, PATCH, DELETE)"})," using our 5 React Query custom hooks."]}),(0,n.jsxs)(c.x,{size:"sm",mb:20,children:["To get all features of React Query, we need to use their provider. Now in the React ",(0,n.jsx)("b",{children:"index.tsx"})," file, we need to wrap our App component with that provider. We can also use React Query Devtools in development."]}),(0,n.jsxs)(c.x,{size:"sm",children:["Open ",(0,n.jsx)("b",{children:"index.tsx"})," file and update it"]}),(0,n.jsx)(m.Z,{code:"import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { ReactQueryDevtools } from 'react-query/devtools';\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      retry: false,\n      refetchOnReconnect: false,\n      refetchOnWindowFocus: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n\nReactDOM.createRoot(document.getElementById('root')!).render(\n  <React.StrictMode>\n    <QueryClientProvider client={queryClient}>\n      <App />\n      <ReactQueryDevtools position='bottom-right' initialIsOpen />\n    </QueryClientProvider>\n  </React.StrictMode>\n);",language:"tsx"}),(0,n.jsx)(c.x,{size:"sm",mt:20,children:"Now, let's create API hooks to handle all requests."}),(0,n.jsxs)(c.x,{size:"sm",mt:10,children:["Create ",(0,n.jsx)("b",{children:"api/todo/useGetTodos.ts"})]}),(0,n.jsx)(m.Z,{code:'import { useReactQuery } from "../libs/reactQuery";\nimport { ITodo } from "../interfaces/todo";\n\nexport const useGetTodos = () => {\n  const { data } = useReactQuery<ITodo[]>(\n    [\n      {\n        queryPath: "https://jsonplaceholder.typicode.com/todos",\n        isPrivate: false,\n      },\n    ],\n    { onSuccess: () => console.log("Success") }\n  );\n  return { todos: data };\n};',language:"typescript"}),(0,n.jsxs)(c.x,{size:"sm",mt:20,children:["Create ",(0,n.jsx)("b",{children:"api/todo/usePostTodo.ts"})]}),(0,n.jsx)(m.Z,{code:'import { usePostMutation } from "../libs/reactQuery";\nimport { ITodo } from "../interfaces/todo";\n\nexport const usePostTodo = () => {\n  const { mutate } = usePostMutation<ITodo, Omit<ITodo, "id">>(\n    {\n      path: "https://jsonplaceholder.typicode.com/todos",\n      isPrivate: false,\n    },\n    { onSuccess: () => console.log("Success") }\n  );\n  return { mutatePostTodo: mutate };\n};',language:"typescript"}),(0,n.jsxs)(c.x,{size:"sm",mt:20,children:["Create ",(0,n.jsx)("b",{children:"api/todo/usePutTodo.ts"})]}),(0,n.jsx)(m.Z,{code:'import { useReactQuery } from "../libs/reactQuery";\nimport { ITodo } from "../interfaces/todo";\n\nexport const usePutTodo = () => {\n  const { mutate } = usePutMutation<ITodo, ITodo>(\n    {\n      pathFn: (id) => `https://jsonplaceholder.typicode.com/todos/${id}`,\n      isPrivate: false,\n    },\n    { onSuccess: () => console.log("Success") }\n  );\n  return { mutatePutTodo: mutate };\n};',language:"typescript"}),(0,n.jsxs)(c.x,{size:"sm",mt:20,children:["Create ",(0,n.jsx)("b",{children:"api/todo/useDeleteTodo.ts"})]}),(0,n.jsx)(m.Z,{code:'import { useDeleteMutation } from "../libs/reactQuery";\nimport { ITodo } from "../interfaces/todo";\n\nexport const useDeleteTodo = () => {\n  const { mutate } = useDeleteMutation(\n    {\n      pathFn: (id) => `https://jsonplaceholder.typicode.com/todos/${id}`,\n      isPrivate: false,\n    },\n    { onSuccess: () => console.log("Success") }\n  );\n  return { mutateDeleteTodo: mutate };\n};',language:"typescript"}),(0,n.jsxs)(c.x,{size:"sm",mt:20,children:["Now create ",(0,n.jsx)("b",{children:"api/todo/index.ts"})," to export all todo API hooks"]}),(0,n.jsx)(m.Z,{code:'export * from "./useGetTodos";\nexport * from "./usePostTodo";\nexport * from "./usePutTodo";\nexport * from "./useDeleteTodo";',language:"typescript"}),(0,n.jsxs)(c.x,{size:"sm",mt:20,children:["Create ",(0,n.jsx)("b",{children:"interfaces/todo.ts"})," outside the components folder"]}),(0,n.jsx)(m.Z,{code:"export interface ITodo {\n  id: number;\n  userId: number;\n  title: string;\n  completed: boolean;\n}",language:"typescript"}),(0,n.jsxs)(c.x,{size:"sm",mt:20,children:["Finally create ",(0,n.jsx)("b",{children:"components/DemoComponent.tsx"})]}),(0,n.jsx)(m.Z,{code:'import { FC } from "react";\nimport {\n  useGetTodos,\n  usePostTodo,\n  usePutTodo,\n  useDeleteTodo,\n} from "../api/todo";\n\nconst DemoComponent: FC = () => {\n  const { todos } = useGetTodos();\n  const { mutatePostTodo } = usePostTodo();\n  const { mutatePutTodo } = usePutTodo();\n  const { mutateDeleteTodo } = useDeleteTodo();\n\n  const handlePost = () => {\n    mutatePostTodo({ userId: 3, title: "Good", completed: true });\n  };\n\n  const handlePut = () => {\n    mutatePutTodo({ id: 1, userId: 3, title: "Best", completed: true });\n  };\n\n  const handleDelete = () => {\n    mutateDeleteTodo({ id: 201 });\n  };\n\n  console.log(todos);\n\n  return (\n    <Fragment>\n      <button onClick={handlePost}>Post</button>\n      <button onClick={handlePut}>Put</button>\n      <button onClick={handleDelete}>Delete</button>\n    </Fragment>\n  );\n};\n\nexport default DemoComponent;',language:"tsx"}),(0,n.jsx)("div",{style:{marginTop:"20px"},children:(0,n.jsx)(d.Z,{theme:"dark"===e?"dark":"light"})})]})]})}}},function(e){e.O(0,[298,774,888,179],(function(){return t=5656,e(e.s=t);var t}));var t=e.O();_N_E=t}]);