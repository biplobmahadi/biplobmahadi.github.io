(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[153],{8076:function(e,n,r){"use strict";r.d(n,{e:function(){return h}});var t=r(7294),o=r(3857),i=r(112),a=(0,r(8067).k)((()=>({root:{backgroundColor:"transparent",cursor:"pointer",padding:0,border:0}}))),s=Object.defineProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,d=(e,n,r)=>n in e?s(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,p=(e,n)=>{for(var r in n||(n={}))c.call(n,r)&&d(e,r,n[r]);if(l)for(var r of l(n))u.call(n,r)&&d(e,r,n[r]);return e};const m={},h=(0,t.forwardRef)(((e,n)=>{const r=(0,o.Z3)("Anchor",m,e),{component:s,className:d,classNames:h,styles:f}=r,b=((e,n)=>{var r={};for(var t in e)c.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(null!=e&&l)for(var t of l(e))n.indexOf(t)<0&&u.call(e,t)&&(r[t]=e[t]);return r})(r,["component","className","classNames","styles"]),{classes:x,cx:g}=a(null,{name:"Anchor",classNames:h,styles:f}),y="button"===s?{type:"button"}:null;return t.createElement(i.x,p(p({component:s||"a",variant:"link",ref:n,className:g(x.root,d)},y),b))}));h.displayName="@mantine/core/Anchor"},6213:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/react-query/update-axios-setup",function(){return r(6135)}])},7664:function(e,n,r){"use strict";function t(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var o=(0,r(8067).k)((function(e){var n;return{containerClass:(n={margin:"2% 15% 2% 10%"},t(n,e.fn.smallerThan("md"),{margin:"2%"}),t(n,e.fn.smallerThan("sm"),{margin:"1%"}),n)}}));n.Z=o},1385:function(e,n,r){"use strict";var t=r(5893),o=r(7870);n.Z=function(e){var n=e.theme;return(0,t.jsx)(o.Z,{id:"comments",repo:"biplobmahadi/biplobmahadi.github.io",repoId:"R_kgDOHkgVOA",category:"Comments",categoryId:"DIC_kwDOHkgVOM4CQGH7",mapping:"title",term:"Welcome!",reactionsEnabled:"1",emitMetadata:"0",inputPosition:"top",theme:n,lang:"en",loading:"lazy"})}},1580:function(e,n,r){"use strict";var t=r(5893),o=r(3857),i=r(6955);n.Z=function(e){var n=e.code,r=e.language,a=(0,o.rZ)().colorScheme;return(0,t.jsx)(i.p1,{sx:{margin:"1% 0",border:"1px gray solid",borderRadius:"6px"},language:r,withLineNumbers:!0,colorScheme:"dark"===a?"dark":"light",children:n})}},6135:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return m}});var t=r(5893),o=r(9008),i=r.n(o),a=r(7294),s=r(3857),l=r(112),c=r(8076),u=r(7664),d=r(1580),p=r(1385),m=function(){var e=(0,s.rZ)().colorScheme,n=(0,u.Z)().classes;return(0,t.jsxs)(a.Fragment,{children:[(0,t.jsx)(i(),{children:(0,t.jsx)("title",{children:"Update Axios Setup - React Query"})}),(0,t.jsxs)("div",{className:n.containerClass,children:[(0,t.jsx)(l.x,{size:"xl",weight:700,mb:30,align:"center",children:"Update Previous Axios Setup"}),(0,t.jsx)("section",{children:(0,t.jsx)(l.x,{size:"xs",color:"dimmed",children:"Published: Jul 23, 2022 | Last Modified: Jul 23, 2022"})}),(0,t.jsx)(l.x,{size:"sm",my:20,children:"In our axios setup documentation, we did handle promises. But as a query function, React Query needs a function which returns any promise. So we don\u2019t need to handle axios promises."}),(0,t.jsxs)(l.x,{size:"sm",mb:20,children:["Here we will update our ",(0,t.jsx)("b",{children:"helpers/request.ts"})," file. See this in the"," ",(0,t.jsx)(c.e,{href:"https://biplobmahadi.github.io/docs/axios/promise-handling-and-aborting",target:"_blank",children:"promise handling & aborting page"}),"."]}),(0,t.jsxs)(l.x,{size:"sm",children:["Here is the updated code of ",(0,t.jsx)("b",{children:"helpers/request.ts"})]}),(0,t.jsx)(d.Z,{code:'import { AxiosError, AxiosInstance, AxiosRequestConfig } from "axios";\nimport { IAbortOption } from "../interfaces/abortOption";\n\nlet controller: AbortController;\n\nconst request = async <R, D = any>(\n  instance: AxiosInstance,\n  method: "get" | "post" | "put" | "patch" | "delete",\n  url: string,\n  abortOption: IAbortOption = {\n    activateAbort: true,\n  },\n  config?: AxiosRequestConfig,\n  data?: D\n): Promise<R> => {\n  if (abortOption.activateAbort && controller) controller.abort();\n  controller = new AbortController();\n\n  const response = await instance({\n    method: method,\n    url: url,\n    data: data,\n    signal: controller.signal,\n    ...config,\n  });\n\n  return response.data;\n};\n\nexport default request;',language:"typescript"}),(0,t.jsxs)(l.x,{size:"sm",mt:20,children:["For interface, create ",(0,t.jsx)("b",{children:"interfaces/abortOption.ts"})]}),(0,t.jsx)(d.Z,{code:"export interface IAbortOption {\n  activateAbort: boolean;\n}",language:"typescript"}),(0,t.jsxs)(l.x,{size:"sm",my:20,children:["For axios setup, we did move all axios related files in the"," ",(0,t.jsx)("b",{children:"libs/axios"})," folder. Here we will import axios public and private hooks from this folder."]}),(0,t.jsx)(p.Z,{theme:"dark"===e?"dark":"light"})]})]})}}},function(e){e.O(0,[298,774,888,179],(function(){return n=6213,e(e.s=n);var n}));var n=e.O();_N_E=n}]);