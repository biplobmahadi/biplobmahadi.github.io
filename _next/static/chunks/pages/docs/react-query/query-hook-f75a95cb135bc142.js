(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[120],{5127:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/react-query/query-hook",function(){return r(3622)}])},9030:function(e,n,r){"use strict";function t(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var s=(0,r(8067).k)((function(e){var n;return{containerClass:(n={margin:"2% 15% 2% 10%"},t(n,e.fn.smallerThan("md"),{margin:"2%"}),t(n,e.fn.smallerThan("sm"),{margin:"1%"}),n)}}));n.Z=s},1385:function(e,n,r){"use strict";var t=r(5893),s=r(7870);n.Z=function(e){var n=e.theme;return(0,t.jsx)(s.Z,{id:"comments",repo:"biplobmahadi/biplobmahadi.github.io",repoId:"R_kgDOHkgVOA",category:"Comments",categoryId:"DIC_kwDOHkgVOM4CQGH7",mapping:"title",term:"Welcome!",reactionsEnabled:"1",emitMetadata:"0",inputPosition:"top",theme:n,lang:"en",loading:"lazy"})}},1580:function(e,n,r){"use strict";var t=r(5893),s=r(3857),i=r(6955);n.Z=function(e){var n=e.code,r=e.language,o=(0,s.rZ)().colorScheme;return(0,t.jsx)(i.p1,{sx:{margin:"1% 0",border:"1px gray solid",borderRadius:"6px"},language:r,withLineNumbers:!0,colorScheme:"dark"===o?"dark":"light",children:n})}},3622:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return d}});var t=r(5893),s=r(9008),i=r.n(s),o=r(7294),u=r(3857),a=r(112),c=r(9030),l=r(1580),y=r(1385),d=function(){var e=(0,u.rZ)().colorScheme,n=(0,c.Z)().classes;return(0,t.jsxs)(o.Fragment,{children:[(0,t.jsx)(i(),{children:(0,t.jsx)("title",{children:"Query Hook - React Query"})}),(0,t.jsxs)("div",{className:n.containerClass,children:[(0,t.jsx)(a.x,{size:"xl",weight:700,mb:30,align:"center",children:"Create a Custom Query Hook"}),(0,t.jsx)("section",{children:(0,t.jsx)(a.x,{size:"xs",color:"dimmed",children:"Published: Jul 28, 2022 | Last Modified: Jul 31, 2022"})}),(0,t.jsxs)(a.x,{size:"sm",my:20,children:["React Query gives mainly 2 different hooks. One is ",(0,t.jsx)("b",{children:"useQuery"})," and another is ",(0,t.jsx)("b",{children:"useMutation"}),". When we need to handle ",(0,t.jsx)("b",{children:"GET"})," ","requests, we need useQuery hook. And for other requests we need useMutation hook."]}),(0,t.jsx)(a.x,{size:"sm",mb:20,children:"Here we will use the useQuery hook to make our custom hook. By using this hook we will handle all GET requests."}),(0,t.jsxs)(a.x,{size:"sm",children:["Create ",(0,t.jsx)("b",{children:"hooks/useReactQuery.ts"})]}),(0,t.jsx)(l.Z,{code:'import { AxiosError, AxiosRequestConfig } from "axios";\nimport { QueryFunctionContext, useQuery, UseQueryOptions } from "react-query";\nimport { TQueryKey } from "./types/queryKey";\nimport { usePrivateAxios, usePublicAxios } from "../../axios";\n\nexport const useReactQuery = <TResponse>(\n  queryKey: TQueryKey,\n  options?: Omit<\n    UseQueryOptions<TResponse, AxiosError, TResponse, TQueryKey>,\n    "queryKey" | "queryFn"\n  >,\n  axiosRequestConfig?: AxiosRequestConfig\n) => {\n  const { publicGet } = usePublicAxios();\n  const { privateGet } = usePrivateAxios();\n\n  const queryFn = ({ queryKey }: QueryFunctionContext<TQueryKey>) => {\n    const [{ queryPath, enableAbort = true, isPrivate = true }] = queryKey;\n\n    if (isPrivate) {\n      return privateGet<TResponse>(\n        queryPath,\n        {\n          activateAbort: enableAbort,\n        },\n        axiosRequestConfig\n      );\n    }\n\n    return publicGet<TResponse>(\n      queryPath,\n      {\n        activateAbort: enableAbort,\n      },\n      axiosRequestConfig\n    );\n  };\n\n  return useQuery<TResponse, AxiosError, TResponse, TQueryKey>(\n    queryKey,\n    queryFn,\n    options\n  );\n};',language:"typescript"}),(0,t.jsxs)(a.x,{size:"sm",mt:20,children:["Create ",(0,t.jsx)("b",{children:"types/queryKey.ts"})," for type."]}),(0,t.jsx)(l.Z,{code:"interface IQueryKey {\n  queryPath: string;\n  enableAbort?: boolean;\n  isPrivate?: boolean;\n}\n\nexport type TQueryKey = [IQueryKey];",language:"typescript"}),(0,t.jsx)("div",{style:{marginTop:"20px"},children:(0,t.jsx)(y.Z,{theme:"dark"===e?"dark":"light"})})]})]})}}},function(e){e.O(0,[298,774,888,179],(function(){return n=5127,e(e.s=n);var n}));var n=e.O();_N_E=n}]);